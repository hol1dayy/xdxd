 <!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>—Å–∞–π—Ç–∏–∫ –¥–ª—è –°–æ–Ω—á–∫–∏-–°–æ–ª–Ω—à–∫–∞</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --bg: rgb(225,201,248);
    --accent: #9b5de5;
    --accent-light: #b182f0;
    --text: #3b2e52;
}

body {
    background: var(--bg);
    font-family: "Inter", Arial, sans-serif;
    margin: 0;
    padding: 0;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.container {
    width: 92%;
    max-width: 330px;
    background: rgba(255, 255, 255, 0.9);
    padding: 22px;
    border-radius: 20px;
    backdrop-filter: blur(8px);
    box-shadow: 0 8px 24px rgba(155, 93, 229, 0.15);
    text-align: center;
}

/* –∫–Ω–æ–ø–∫–∏ –∏ –ø–æ–ª—è */
h1, h2 { color: var(--text); font-weight: 600; }

input, textarea {
    width: 95%;
    padding: 12px;
    font-size: 16px;
    border-radius: 12px;
    border: 2px solid rgba(205,169,255,0.6);
    margin-bottom: 14px;
    transition: 0.3s;
    background: #fff;
    box-sizing: border-box;
}

textarea { resize: vertical; min-height: 200px; }

button {
    width: 100%;
    padding: 13px;
    border-radius: 12px;
    border: none;
    background: var(--accent);
    color: white;
    font-weight: 600;
    cursor: pointer;
    transition: 0.25s ease;
    box-shadow: 0 4px 12px rgba(155,93,229,0.3);
    margin-top: 6px;
}
button:hover { background: var(--accent-light); }
button:active { transform: scale(0.96); }

.reset-btn {
    background: rgba(255,255,255,0.95);
    border: 2px solid var(--accent);
    color: var(--accent);
}

/* –ø—Ä–æ–≥—Ä–µ—Å—Å */
#progress-text { margin-top: 22px; font-size: 16px; font-weight: 600; color: var(--text); }

.progress-container {
    display: flex;
    width: 100%;
    height: 25px;
    border-radius: 12px;
    overflow: hidden;
    border: 2px solid var(--accent);
    margin-top: 10px;
    background: #fff;
}
.progress-segment {
    flex: 1;
    border-right: 1px solid rgba(205,169,255,0.55);
    transition: background 0.6s ease;
}
.progress-segment:last-child { border-right: none; }
.filled { background: var(--accent); }

/* —Ç–æ—Å—Ç */
.toast {
    position: fixed;
    bottom: 22px;
    left: 50%;
    transform: translateX(-50%);
    background: var(--accent);
    color: white;
    padding: 11px 16px;
    border-radius: 12px;
    opacity: 0;
    transition: 0.4s;
}
.toast.show { opacity: 1; }

/* –º–æ–¥–∞–ª–∫–∞ */
.modal {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.55);
    display: none;
    justify-content: center;
    align-items: center;
}
.modal-content {
    background:white;
    padding:20px;
    border-radius:16px;
    text-align:center;
    width:90%;
    max-width:330px;
    box-shadow:0 8px 24px rgba(0,0,0,0.25);
}
.modal-content img {
    width:100%;
    border-radius:14px;
    margin-bottom:15px;
}

/* —Å–µ–∫—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–∏–∫–∞ */
#secret-section { display: none; }

#output {
    margin-top: 14px;
    padding: 14px;
    font-size: 15px;
    border: 2px solid var(--accent);
    border-radius: 14px;
    background: #fff;
    text-align: left;
    white-space: pre-wrap;
    word-wrap: break-word;
    letter-spacing: -0.02em;
    min-height: 120px;
}
.enc {
    color: #000;
    background: rgba(255, 77, 77, 0.3);
    border-radius: 4px;
    padding: 1px 2px;
}
.dec {
    color: #000;
    background: rgba(106, 255, 106, 0.3);
    border-radius: 4px;
    padding: 1px 2px;
}
</style>
</head>

<body>

<!-- üü£ –û–°–ù–û–í–ù–ê–Ø –ß–ê–°–¢–¨ -->
<div class="container" id="main-section">
    <h1>–í–≤–µ–¥–∏ –∫–æ–¥ —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É</h1>

    <input type="text" id="codeInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥...">
    <button onclick="checkCode()">–ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É</button>

    <div id="progress-text">–≠—Ç–æ —Ç–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å)</div>
    <div class="progress-container" id="progressBar"></div>

    <button class="reset-btn" onclick="resetProgress()">—Å–±—Ä–æ—Å–∏—Ç—å</button>
    <button class="reset-btn" onclick="showSecret()">–°–µ–∫—Ä–µ—Ç–∏–∫–∫–∫ üîí</button>
</div>

<!-- üü£ –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û -->
<div id="imageModal" class="modal">
    <div class="modal-content">
        <img src="myphoto.jpg" alt="–§–æ—Ç–æ">
        <button onclick="openLink()">üëâ—Ç—ã–∫üëà</button>
    </div>
</div>

<!-- üü£ –°–ï–ö–†–ï–¢–ù–´–ô –†–ê–ó–î–ï–õ -->
<div class="container" id="secret-section">
    <h2>–°–µ–∫—Ä–µ—Ç–∏–∫–∫–∫ üîê</h2>

    <label>–ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç:</label>
    <textarea id="cipher" readonly>
FAaPkJxkBoxutqvTeqJPvTuqmTHdLTuqJMPJxdutqvTKqmuJZTGuMGTqHCmcvPKqAukTMZZZZZZZtqYTFAaPkHKCqkPJqJqATJxcQuGcuvqJuAdvTRTqgxPYPqkxTaToqYTajccqZTGkuaxcZTktqxNqBqvuGKqvTHTAMcGZPfqmHcGtqkTxqKquABqJuoMPJqZqxumuqkqvuxaTtqcqAHKqvuGKqvNqBkcAcvJKqkJuRTqvcGBxqMuauFq25tqGBqaPFkuqgxTqGuqJMPJxdutqJMPJxduqZTGuMGTfqKqkTTmsuqxPZqxumKqHCmHCtqMxTqZPYujjtqDTMBqkJuRAPqmNxdqJqxTmToqaKATvtqDTMBqMxTmqxNqHuQPHPqBqvuGKqGPqZTHuGKDqcqKqFPYBJZPHqxumuqYPHdjNqkqkTHTJNtqDTMBqTmGcvPxdqxumKqZauYZT-ZauYZTtqDTMBqBxZGBxdJKqkqxumKqcqMBkJxkTkPxdqxkToqJPvNoqaTAGToqAHKqvuGKqGPqJkuxuqFPYPDtqTsBsPxdqxumKtqvTKqaTAGPKfqYaToAuxqGuJZTHdZTqHuxtqxNqmBAuLdqTJxPkPxdJKqGPqGTMdtqcqvNqmBAuvqGPJHPQAPxdJKqZPQAToqvcGBxToqAaBRqJqAaBRTvtqZPZqvNqgxTqBvuuvEqPqYTxTvqvNqJVuAuvJKtqmBAuvqQcxdqkvuJxutqYaTJNYPxdJKqcqFPJNYPxdqkvuJxutqmBAuvqAaBRqAaBRBqRTxTkcxdquABtqAuHcxdqkvuJxuqATvPLGcoqmNxtqJTFAPkPxdqGPLqJTmJxkuGGNoqBCxfqmHcGtqZPZqkJeqxPZcqZHPJJGTqMxTqvNqmBABsuuqAaBRqAHKqAaBRPtqPDBuuGTqgxTq-qHCmcxdqxumKtqcqmNxdqHCmcvNvqkqTxkuxf
    </textarea>

    <label>–í–≤–µ–¥–∏ –∫–æ–¥ (–æ–Ω–∏ —Ç–∞–∫–∏–µ –∂–µ):</label>
    <input id="codeSecret">

    <button onclick="decode()">–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å</button>
    <button onclick="resetSecret()">–°–±—Ä–æ—Å–∏—Ç—å</button>

    <h3 style="color:var(--text); font-size:16px; margin-top:16px;">–¢–µ–∫—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</h3>
    <div id="output"></div>

    <button onclick="copyResult()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
    <button class="reset-btn" onclick="backToMain()">‚¨Ö –ù–∞–∑–∞–¥</button>
</div>

<div id="toast" class="toast"></div>

<script>
/* ---------- –û–°–ù–û–í–ù–û–ô –†–ê–ó–î–ï–õ ---------- */
const codes = ["22122024","25012025","08032025","06042025","03072025","31072025","04112025"];
const link = [
    "https://drive.google.com/file/d/1aLVoLgjvS0LAu7rkqGAzuPWksBLYPZuj/view?usp=sharing",
    "https://drive.google.com/file/d/1aX8Oblhfk35PX2sQroLWs5CLZY6QOXeL/view?usp=drive_link",
    "https://drive.google.com/file/d/1a94CYkQkY3GrXYc8AYCyYIvPXsb_og3H/view?usp=sharing",
    "https://drive.google.com/file/d/1RQOAOc-ROFnNCxs-awrTBElzpDIvlZ4F/view?usp=sharing",
    "https://drive.google.com/file/d/1U5iqR0eY-DQlLrak7YudafdsdDciUzTd/view?usp=sharing",
    "https://drive.google.com/file/d/1j5vyjul7NWxanpIWv_knUZdG1BUcynJB/view?usp=sharing",
    "https://drive.google.com/file/d/1UpWMK9HM7RA40yXpIrzbJqy83xJmELYS/view?usp=sharing"
];

function loadProgress(){ return JSON.parse(localStorage.getItem("progressCodes") || "[]"); }
function saveProgress(p){ localStorage.setItem("progressCodes", JSON.stringify(p)); }
function toast(msg){ const t=document.getElementById("toast"); t.textContent=msg;t.classList.add("show");setTimeout(()=>t.classList.remove("show"),2000); }

function updateProgressBar(){
    const p = loadProgress();
    const bar = document.getElementById("progressBar");
    bar.innerHTML = "";
    for (let i = 0; i < 7; i++){
        const seg = document.createElement("div");
        seg.classList.add("progress-segment");
        bar.appendChild(seg);
        if(i < p.length) setTimeout(()=>seg.classList.add("filled"), i*140);
    }
}

function checkCode(){
    const input = document.getElementById("codeInput").value.trim();
    const p = loadProgress();

    if (codes[p.length] === input){
        p.push(input);
        saveProgress(p);
        updateProgressBar();
        document.getElementById("imageModal").style.display = "flex";
    } else toast("–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–æ–¥ ‚úñÔ∏è");

    document.getElementById("codeInput").value = "";
}

function openLink(){
    const p = loadProgress();
    window.location.href = link[p.length - 1];
}
function resetProgress(){ localStorage.removeItem("progressCodes"); updateProgressBar(); toast("–ü—Ä–æ–≥—Ä–µ—Å—Å —Å–±—Ä–æ—à–µ–Ω üîÑ"); }

updateProgressBar();

/* ---------- –ó–ê–ö–†–´–¢–ò–ï –ú–û–î–ê–õ–ö–ò –ü–û –ö–õ–ò–ö–£ –í–ù–ï ---------- */
const modal = document.getElementById("imageModal");
modal.addEventListener("click", (e) => {
    if (e.target === modal) {
        modal.style.display = "none";
    }
});

/* ---------- –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –ú–ï–ñ–î–£ –†–ê–ó–î–ï–õ–ê–ú–ò ---------- */
function showSecret(){
    document.getElementById("main-section").style.display = "none";
    document.getElementById("secret-section").style.display = "block";
}
function backToMain(){
    document.getElementById("secret-section").style.display = "none";
    document.getElementById("main-section").style.display = "block";
}

/* ---------- –°–ï–ö–†–ï–¢–ò–ö ---------- */
const mapping = {
'–∞':'P','–±':'m','–≤':'k','–≥':'R','–¥':'A','–µ':'u','—ë':'e','–∂':'Q','–∑':'F','–∏':'c','–π':'o','–∫':'Z','–ª':'H',
'–º':'v','–Ω':'G','–æ':'T','–ø':'Y','—Ä':'a','—Å':'J','—Ç':'x','—É':'B','—Ñ':'n','—Ö':'D','—Ü':'j','—á':'M','—à':'L',
'—â':'s','—ä':'V','—ã':'N','—å':'d','—ç':'g','—é':'C','—è':'K',',':'t','!':'E',' ':'q','‚Äì':'w',')':'f'
};
const reverseMap = {};
for (let k in mapping) reverseMap[mapping[k]] = k;

const cipherText = document.getElementById("cipher").value.trim();
let revealed = Array(cipherText.length).fill(false);
let removeHighlight = false;

const decodePercents = {
    "22122024": 0.15,
    "25012025": 0.20,
    "08032025": 0.30,
    "06042025": 0.35,
    "03072025": 0.40,
    "31072925": 0.45,
    "04112025": 1.00
};

function decode() {
    let code = document.getElementById("codeSecret").value.trim();
    if (!decodePercents[code]) return;

    let percent = decodePercents[code];
    removeHighlight = (code === "77777777");

    revealed = Array(cipherText.length).fill(false);
    let toReveal = Math.floor(cipherText.length * percent);

    let allIndexes = Array.from(cipherText).map((_, i) => i);
    for (let i = 0; i < toReveal && allIndexes.length > 0; i++) {
        let randIndex = Math.floor(Math.random() * allIndexes.length);
        let pos = allIndexes.splice(randIndex, 1)[0];
        revealed[pos] = true;
    }

    updateOutput();
}

function updateOutput() {
    let html = "";
    for (let i = 0; i < cipherText.length; i++) {
        let encoded = cipherText[i];
        let decoded = reverseMap[encoded] || encoded;

        if (removeHighlight) {
            html += decoded;
        } else if (revealed[i] && decoded) {
            html += `<span class="dec">${decoded}</span>`;
        } else {
            html += `<span class="enc">${encoded}</span>`;
        }
    }
    document.getElementById("output").innerHTML = html;
}

function resetSecret() {
    revealed = Array(cipherText.length).fill(false);
    removeHighlight = false;
    document.getElementById("output").innerHTML = "";
    document.getElementById("codeSecret").value = "";
}

function copyResult() {
    navigator.clipboard.writeText(document.getElementById("output").innerText);
}
</script>

</body>
</html>
